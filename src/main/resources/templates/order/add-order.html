<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="../static/assets/css/bootstrap.min.css" th:href="@{/assets/css/bootstrap.min.css}"/>
    <link rel="stylesheet" href="../static/assets/css/font-awesome.min.css"
          th:href="@{/assets/css/font-awesome.min.css}"/>
    <link rel="stylesheet" href="../static/assets/css/jquery-ui-1.10.3.full.min.css"
          th:href="@{/assets/css/jquery-ui-1.10.3.full.min.css}"/>
    <link rel="stylesheet" href="../static/assets/css/datepicker.css" th:href="@{/assets/css/datepicker.css}"/>
    <link rel="stylesheet" href="../static/assets/css/googleFamily.css" th:href="@{/assets/css/googleFamily.css}"/>
    <link rel="stylesheet" href="../static/assets/css/ui.jqgrid.css" th:href="@{/assets/css/ui.jqgrid.css}"/>
    <link rel="stylesheet" href="../static/assets/css/chosen.css" th:href="@{/assets/css/chosen.css}"/>
    <link rel="stylesheet" href="../static/assets/css/custom.css" th:href="@{/assets/css/custom.css}"/>
    <link rel="stylesheet" href="../static/assets/css/ace.min.css" th:href="@{/assets/css/ace.min.css}"/>
    <link rel="stylesheet" href="../static/assets/css/ace-rtl.min.css" th:href="@{/assets/css/ace-rtl.min.css}"/>
    <link rel="stylesheet" href="../static/assets/css/ace-skins.min.css" th:href="@{/assets/css/ace-skins.min.css}"/>
    <script src="../static/assets/js/jquery-2.0.3.min.js" th:src="@{/assets/js/jquery-2.0.3.min.js}"></script>
    <title>订单添加</title>
    <style>

    </style>
</head>
<body>
<div class="row">
    <div class="col-sm-12">
        <div class="widget-box">
            <div class="widget-header widget-header-small">
                <h4>订单添加</h4>
            </div>
            <div class="widget-body widget-body-inner widget-main" style="display: block;">
                <div class="row">
                    <div class="col-sm-12">
                        <table class="table">
                            <tr>
                                <th>参数名称</th>
                                <th>参数值</th>
                                <th>描述</th>
                            </tr>
                            <tr>
                                <td>用户名</td>
                                <td>
                                    <div>
                                        <select class="width-20 chosen-select" style="display: none;" id="memberid">
                                            <span th:each="m:${memberDetails}">
                                                <option value="" th:value="${m.memberid}"
                                                        th:text="${m.fullname}"></option>
                                            </span>
                                        </select>
                                    </div>
                                </td>
                                <td>身份证上的姓名</td>
                            </tr>
                            <tr>
                                <td>金额</td>
                                <td><input id="money"/></td>
                                <td>订单的金额</td>
                            </tr>
                            <tr>
                                <td>商品名</td>
                                <td><input id="name"/></td>
                                <td>商品名称</td>
                            </tr>
                            <tr>
                                <td>平台</td>
                                <td><select id="pingtai">
                                    <option value="1">京东</option>
                                    <option value="2">淘宝</option>
                                </select></td>
                                <td>商品所属平台</td>
                            </tr>
                            <tr>
                                <td>链接</td>
                                <td><textarea id="link"/></td>
                                <td>代购链接,淘宝代付请填写吱口令</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <button class="btn btn-primary" onclick="add()">添加</button>
                                </td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="../static/assets/js/ace-extra.min.js" th:src="@{/assets/js/ace-extra.min.js}"></script>
<!--[if lt IE 9]>
<script src="../static/assets/js/html5shiv.js" th:src="@{/assets/js/html5shiv.js}"></script>
<script src="../static/assets/js/respond.min.js" th:src="@{/assets/js/respond.min.js}"></script>
<![endif]-->
<script src="../static/assets/js/jqGrid/jquery.jqGrid.min.js"
        th:src="@{/assets/js/jqGrid/jquery.jqGrid.min.js}"></script>
<script src="../static/assets/js/jqGrid/i18n/grid.locale-en.js"
        th:src="@{/assets/js/jqGrid/i18n/grid.locale-en.js}"></script>
<script src="../static/assets/js/bootstrap.min.js" th:src="@{/assets/js/bootstrap.min.js}"></script>
<script src="../static/assets/js/typeahead-bs2.min.js" th:src="@{/assets/js/typeahead-bs2.min.js}"></script>
<!-- page specific plugin scripts -->
<script src="../static/assets/js/jquery-ui-1.10.3.custom.min.js"
        th:src="@{/assets/js/jquery-ui-1.10.3.custom.min.js}"></script>
<script src="../static/assets/js/date-time/moment.min.js" th:src="@{/assets/js/date-time/moment.min.js}"></script>
<script src="../static/assets/js/date-time/bootstrap-datepicker.min.js"
        th:src="@{/assets/js/date-time/bootstrap-datepicker.min.js}"></script>
<script src="../static/assets/js/jquery.slimscroll.min.js" th:src="@{/assets/js/jquery.slimscroll.min.js}"></script>
<script src="../static/assets/js/chosen.jquery.min.js" th:src="@{/assets/js/chosen.jquery.min.js}"></script>
<script src="../static/assets/js/ace-elements.min.js" th:src="@{/assets/js/ace-elements.min.js}"></script>
<script src="../static/assets/js/ace.min.js" th:src="@{/assets/js/ace.min.js}"></script>
<script src="../static/assets/js/md5.js" th:src="@{/assets/js/md5.js}"></script>
<script src="../static/assets/js/custom.js" th:src="@{/assets/js/custom.js}"></script>
<script src="../static/assets/js/jquery.messager.js" th:src="@{/assets/js/jquery.messager.js}"></script>
<script src="../static/assets/js/layer/layer.js" th:src="@{/assets/js/layer/layer.js}"></script>
<script src="../static/assets/js/bootbox.min.js" th:src="@{/assets/js/bootbox.min.js}"></script>
<script type="text/javascript">
    /*<![CDATA[*/

    jQuery(function ($) {
        $(".chosen-select").chosen();
    });

    function add() {
        var memberid = $("#memberid").val();
        var money = $("#money").val();
        var name = $("#name").val();
        var link = $("#link").val();
        var pingtai = $("#pingtai").val();
        if(pingtai==2){
            link="#吱口令#"+link;
        }
        if (money !== '' && name !== '' && link !== '') {
            $.ajax({
                url: "/order/addOrder",
                cache: false,
                dataType: 'json',
                data: {
                    "memberid": memberid,
                    "money": money,
                    "name": name,
                    "link": link
                },
                type: 'post',
                success: function (result) {
                    if (result.flag == true) {
                        $.messager.alert('温馨提示', result.message);
                    } else {
                        $.messager.alert('温馨提示', result.message);
                    }
                },
                error: function (data) {
                    console.info("error: " + data.responseText);
                }
            });
        } else {
            $.messager.alert('温馨提示', "请检查参数!");
            return;
        }
    }

    /*]]>*/

</script>

</body>
</html>